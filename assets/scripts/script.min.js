const textAreaLeft=document.querySelector("._left textarea"),textAreaRight=document.querySelector("._right textarea"),languageTitle=document.querySelectorAll(".language_"),actionButton=document.querySelectorAll(".action-button__"),swapButton=document.querySelector("._swap div"),lengthCounter=document.querySelector(".length-counter_");let swapped=!1,translateFrom=languageTitle[0].dataset.language,translateTo=languageTitle[1].dataset.language;function translate(){let e=textAreaLeft.value;if(""==textAreaLeft.value){textAreaRight.value="";return}let t=`https://api.mymemory.translated.net/get?q=${e}&langpair=${translateFrom}|${translateTo}`;fetch(t).then(e=>e.json()).then(e=>{textAreaRight.value=e.responseData.translatedText}).catch(e=>textAreaRight.value=e)}function swap(){textAreaLeft.value;let e=textAreaRight.value;swapped?(textAreaLeft.value=e,translateFrom=languageTitle[0].dataset.language="en",translateTo=languageTitle[1].dataset.language="id",languageTitle[0].innerText="English",languageTitle[1].innerText="Indonesian",swapped=!1):(textAreaLeft.value=e,translateFrom=languageTitle[0].dataset.language="id",translateTo=languageTitle[1].dataset.language="en",languageTitle[0].innerText="Indonesian",languageTitle[1].innerText="English",swapped=!0),translate(),counter()}function changeIcon(){textAreaLeft.value.length>0?actionButton[0].querySelector("img").src="assets/Images/x.svg":actionButton[0].querySelector("img").src="assets/Images/clipboard.svg",counter()}function pasteDelete(){"assets/Images/clipboard.svg"==actionButton[0].querySelector("img").attributes.src.value?navigator.clipboard.readText().then(e=>textAreaLeft.value=e).then(changeIcon).then(translate):(textAreaLeft.value="",changeIcon(),translate()),counter()}function copy(){textAreaRight.select(),textAreaRight.setSelectionRange(0,99999),navigator.clipboard.writeText(textAreaRight.value)}function counter(){lengthCounter.innerText=`${textAreaLeft.value.length} / ${textAreaLeft.getAttribute("maxlength")}`,textAreaLeft.value.length>480?lengthCounter.style.color="#FD5E5E":lengthCounter.style.color="var(--color-main)"}textAreaLeft.addEventListener("change",translate),textAreaLeft.addEventListener("input",changeIcon),actionButton[0].addEventListener("click",pasteDelete),actionButton[1].addEventListener("click",copy),swapButton.addEventListener("click",swap);